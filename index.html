<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Meu Primeiro Jogo - André Dev</title>
    <style>
        body { margin: 0; overflow: hidden; background: #1a1a1a; }
        canvas { display: block; }
    </style>

</head>
<body>

    <canvas id="gameCanvas" width="600" height="600" style="border: 1px solid #555"></canvas>
    <p>Itens: <span id="count">0</span></p>
    <script>
        const ctx = document.getElementById('gameCanvas').getContext('2d');



        const player = {
            x:200,
            y:200,
            size:20
        };
        const item = {
            x:Math.random() * 380,
            y: Math.random() * 380,
            size:10
        }
        let pontos = 0;

        function draw() {
            ctx.clearRect(0, 0, 600, 600)

            //Desenho do player
            ctx.fillStyle = 'blue';
            ctx.fillRect(player.x, player.y, player.size, player.size);

            //desenho do item            
            ctx.fillStyle = 'gold'; 
            ctx.fillRect(item.x, item.y, item.size, item.size);

            //logica de colisão
            if(
                player.x < item.x + item.size && player.x + player.size > item.x &&
                player.y < item.y + item.size && player.y + player.size > item.y
            ) {
                pontos++
                document.getElementById('count').innerText = pontos;
                item.x = Math.random() * 380,
                item.y = Math.random() * 380;
            }            
            requestAnimationFrame(draw);
        }

        window.addEventListener('keydown', (e) => {
            if(e.key == 'w')player.y -= 10;
            if(e.key == 's')player.y += 10;
            if(e.key == 'a')player.x -= 10;
            if(e.key == 'd')player.x += 10;
        });

        draw();
    </script>
</body>
</html>
